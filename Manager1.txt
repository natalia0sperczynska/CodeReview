// The Manager1 class implements the following requirements:
// 1/ The system should validate the patient's age using defined limits and stop processing if the age is outside of the valid range. 
// 2/ The system should classify the patient's blood pressure (BP) reading as high risk (systolic BP > 150 and diastolic BP > 95), medium risk (systolic BP > 130), or normal. 
// 3/ The system should output the result for further processing.


import java.io.FileWriter;
import java.io.*;
import java.util.*;

public class Manager {

    private static List<String> logs = new ArrayList<>();

    private static final int MINOR_AGE = 18;
    private static final int MIN_AGE = 0;
    private static final int MAX_AGE = 130;
    private static final String REPORT_FILE = "report.txt";

    private static String getRiskLevel(int result) {
        switch (result) {
            case 0: return "normal";
            case 1: return "medium risk";
            case 2: return "high risk";
            default: return "unknown";
        }
    }

    public int process(Patient patient, int bpSys, int bpDia, boolean printResult) {
        int result = 0;

        if (patient.age < MIN_AGE || patient.age > MAX_AGE) {
            System.out.println("Invalid age");
            logs.add("Invalid patient: " + patient.name);
            return;
        }

        if (patient.age < MINOR_AGE) {
            System.out.println("Patient is a minor.");
        } else {
            System.out.println("Patient is an adult.");
        }

        logs.add("Processed patient " + patient.name);

        if (bpSys > 150 && bpDia > 95) {
            result = 2;
        } else if (bpSys > 130) {
            result = 1;
        } else {
            result = 0;
        }

        logs.add("Patient " + patient.name + ": " + getRiskLevel(result));

        if (printResult) {
            System.out.println("Patient " + patient.name + " with BP (" + bpSys + "/" + bpDia + ") is " + getRiskLevel(result));
        }

        return result;
    }

    public void writeReport() {
        try (FileWriter writer = new FileWriter(REPORT_FILE)) {
            for (String log : logs) {
                writer.write(log + "\n");
            }
        } catch (IOException e) {
            System.out.println("Error writing report: " + e.getMessage());
        }
    }

class Patient {
    public String name;
    public int age;
    public String existing_condition;

    public Patient(String name, int age, String condition) {
        this.name = name;
        this.age = age;
        this.existing_condition = condition;
    }
}
